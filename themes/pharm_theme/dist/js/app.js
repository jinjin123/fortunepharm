"use strict";Drupal.behaviors.yourmodulename={attach:function(t,e){var a,h,p=jQuery.noConflict(),r=e.path.pathPrefix.replace("/",""),n=(n=e.path.currentPath).replace("node/",""),o="title_"+r,s=[],c="/timeline-json/"+n;function l(t,e,i){0<p("#"+t).length&&(p("#"+t).width(e),p("#"+t).height(i))}function d(t,e){0<p("."+t).length&&p("."+t).each(function(){p(this).height(e)})}function w(t,e,i){var a;a=768<=p(window).width()?p("."+t).width():p("."+e).width(),d("row-xs-4",Math.round(a/12*4)),d("row-xs-9",Math.round(a/12*9)),d("row-xs-12",Math.round(a)),768<=p(window).width()&&(d("row-sm-"+i+"-9",a),d("row-sm-"+i+"-8",Math.round(a/i*8)),d("row-sm-"+i+"-7",Math.round(a/i*7)),d("row-sm-"+i+"-6",Math.round(a/i*6)),d("row-sm-"+i+"-5",Math.round(a/i*5)),d("row-sm-"+i+"-4",Math.round(a/i*4)),d("row-sm-"+i+"-3",Math.round(a/i*3)),d("row-sm-"+i+"-2",Math.round(a/i*2)),d("row-sm-"+i+"-1",Math.round(a/i))),992<=p(window).width()&&(d("row-md-"+i+"-9",a),d("row-md-"+i+"-8",Math.round(a/i*8)),d("row-md-"+i+"-7",Math.round(a/i*7)),d("row-md-"+i+"-6",Math.round(a/i*6)),d("row-md-"+i+"-5",Math.round(a/i*5)),d("row-md-"+i+"-4",Math.round(a/i*4)),d("row-md-"+i+"-3",Math.round(a/i*3)),d("row-md-"+i+"-2",Math.round(a/i*2)),d("row-md-"+i+"-1",Math.round(a/i))),1200<=p(window).width()&&(d("row-lg-"+i+"-9",a),d("row-lg-"+i+"-8",Math.round(a/i*8)),d("row-lg-"+i+"-7",Math.round(a/i*7)),d("row-lg-"+i+"-6",Math.round(a/i*6)),d("row-lg-"+i+"-5",Math.round(a/i*5)),d("row-lg-"+i+"-4",Math.round(a/i*4)),d("row-lg-"+i+"-3",Math.round(a/i*3)),d("row-lg-"+i+"-2",Math.round(a/i*2)),d("row-lg-"+i+"-1",Math.round(a/i)))}function u(){var t;p(window).width()<768?(d("product-big-image",t=p(".product-big-image").width()),d("product-small-image",t)):(p(".product-big-image").attr("style",""),p(".product-small-image").attr("style",""))}function m(){p(window).width()<768?d("image-wrapper",p(".healthcare .healthcare-wrapper .image-wrapper").width()):p(".healthcare .healthcare-wrapper .image-wrapper").attr("style","")}function u(){var t;p(window).width()<768?(d("product-big-image",t=p(".product-big-image").width()),d("product-small-image",t)):(p(".product-big-image").attr("style",""),p(".product-small-image").attr("style",""))}function m(){p(window).width()<768?d("image-wrapper",p(".healthcare .healthcare-wrapper .image-wrapper").width()):p(".healthcare .healthcare-wrapper .image-wrapper").attr("style","")}p.getJSON(c,function(t){for(var e in t){var i,a=t[e].img,r=[];a=a.split(",");for(var n=0;n<21;n++)a[n]&&r.push(a[n]);i=t[e][o],s[e]={type:"blog_post",date:t[e].date.substring(0,4),title:t[e].date.substring(0,4),content:i,images:r}}timeline=new Timeline(p("#company-timeline"),s),timeline.setOptions({dateFormat:"YYYY",animation:!0,lightbox:!0,columnMode:"dual",order:"desc",separator:"year",first_separator:!0,responsive_width:768}),timeline.display()}),p(".homepage-slider .field-content ul").slick({dots:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplay:!0,autoplaySpeed:5e3,fade:!1,cssEase:"ease",arrows:!1,rows:1,responsive:[{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),p(".homepage-mobile-slider .field-content ul").slick({dots:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplay:!0,autoplaySpeed:5e3,fade:!1,cssEase:"ease",arrows:!1,rows:1,responsive:[{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),0<p(".homepage .body .main-wrapper").length&&(w("desktop-main","mobile-main",9),p(window).resize(function(){clearTimeout(p.data(this,"resizeTimer")),p.data(this,"resizeTimer",setTimeout(function(){w("desktop-main","mobile-main",9)},800))})),0<p("#banner-wrapper-mobile").length&&p("#banner-wrapper-mobile").carousel({interval:!1}),0<p(".fancybox").length&&p(".fancybox").fancybox(),p(".year-wrapper-div").parent("h3").addClass("year-wrapper"),0<p(".path-news .content-row").length&&(p(".path-news .content-row").show(),p.data(this,"news",setTimeout(function(){p(".path-news .content-row .colume2").each(function(){p(this).siblings(".colume1").height(p(this).height())}),p(".path-news .views-row .content-row").show()},200)),p(window).resize(function(){clearTimeout(p.data(this,"news2")),p.data(this,"news2",setTimeout(function(){p(".path-news .content-row .colume2").each(function(){p(this).siblings(".colume1").height(p(this).height())}),p(".path-news .views-row .content-row").show()},800))})),p(".path-news .content-row .colume2 .title-wrapper a").click(function(){p(this).parent().parent().parent().hasClass("active")?p(this).parent().siblings(".content-wrapper").slideUp(400,function(){p(this).parent().siblings(".colume1").height(p(this).parent().height()),p(this).parent().parent().removeClass("active")}):p(this).parent().siblings(".content-wrapper").slideDown(400,function(){p(this).parent().siblings(".colume1").height(p(this).parent().height()),p(this).parent().parent().addClass("active")})}),p(".path-news .pagination-btn .pagination-change").change(function(){console.log(p(this).val())}),console.log("test"),0<p(".scroll-wrapper").length&&(clearTimeout(p.data(this,"scroll-wrapper")),p.data(this,"scroll-wrapper",setTimeout(function(){p(".scroll-wrapper").each(function(){var e;10<p(this).children().width()-p(this).width()&&(nice=p(this).niceScroll(),e=nice.getContentSize,nice.getContentSize=function(){var t=e.call(nice);return t.h=nice.win.height(),t})})},800)),p(window).resize(function(){clearTimeout(p.data(this,"scroll-wrapper2")),p.data(this,"scroll-wrapper2",setTimeout(function(){p(".scroll-wrapper").each(function(){var e;p(this).getNiceScroll().remove(),10<p(this).children().width()-p(this).width()&&(nice=p(this).niceScroll(),e=nice.getContentSize,nice.getContentSize=function(){var t=e.call(nice);return t.h=nice.win.height(),t})})},800))})),-1<window.location.href.indexOf("news")&&p(".fancybox_popup").fancybox().trigger("click"),0<p(".scroll-wrapper").length&&(clearTimeout(p.data(this,"scroll-wrapper")),p.data(this,"scroll-wrapper",setTimeout(function(){p(".scroll-wrapper").each(function(){var e;10<p(this).children().width()-p(this).width()&&(nice=p(this).niceScroll(),e=nice.getContentSize,nice.getContentSize=function(){var t=e.call(nice);return t.h=nice.win.height(),t})})},800)),p(window).resize(function(){clearTimeout(p.data(this,"scroll-wrapper2")),p.data(this,"scroll-wrapper2",setTimeout(function(){p(".scroll-wrapper").each(function(){var e;p(this).getNiceScroll().remove(),10<p(this).children().width()-p(this).width()&&(nice=p(this).niceScroll(),e=nice.getContentSize,nice.getContentSize=function(){var t=e.call(nice);return t.h=nice.win.height(),t})})},800))})),l("wrapper",p(window).width(),p(window).height()),p("body").show(),p(window).resize(function(){clearTimeout(p.data(this,"resizeTimer2")),p.data(this,"resizeTimer2",setTimeout(function(){l("wrapper",p(window).width(),p(window).height())},200)),768<=p(window).width()&&(p("#wrapper").hasClass("toggled")&&p("#wrapper").removeClass("toggled"),p(".hamburger").hasClass("is-open")&&(p(".hamburger").removeClass("is-open"),p(".hamburger").addClass("is-closed")))}),0<p("#index .main-wrapper").length&&(w("desktop-main","mobile-main",9),p(window).resize(function(){clearTimeout(p.data(this,"resizeTimer")),p.data(this,"resizeTimer",setTimeout(function(){w("desktop-main","mobile-main",9)},800))})),0<p("#banner-wrapper-mobile").length&&p("#banner-wrapper-mobile").carousel({interval:!1}),0<p("#product .product-big-image").length&&(p.data(this,"product-image",setTimeout(function(){u()},200)),p(window).resize(function(){clearTimeout(p.data(this,"product-image2")),p.data(this,"product-image2",setTimeout(function(){u()},800))})),0<p("#product.healthcare .image-wrapper").length&&(p.data(this,"product-healthcare",setTimeout(function(){m()},200)),p(window).resize(function(){clearTimeout(p.data(this,"product-healthcare2")),p.data(this,"product-healthcare2",setTimeout(function(){m()},800))})),0<p("#lastest-offers #offers-wrapper").length&&(p.data(this,"lastest-offers",setTimeout(function(){p("#lastest-offers #offers-wrapper .img-wrapper").each(function(){p(this).siblings(".content-wrapper").height(p(this).height())}),p("#lastest-offers #offers-wrapper .content-wrapper").show()},200)),p(window).resize(function(){clearTimeout(p.data(this,"lastest-offers2")),p.data(this,"lastest-offers2",setTimeout(function(){p("#lastest-offers #offers-wrapper .img-wrapper").each(function(){p(this).siblings(".content-wrapper").height(p(this).height())}),p("#lastest-offers #offers-wrapper .content-wrapper").show()},800))})),0<p("#news .content-row").length&&(p.data(this,"news",setTimeout(function(){p("#news .content-row .colume2").each(function(){p(this).siblings(".colume1").height(p(this).height())}),p("#news .content-row").show()},200)),p(window).resize(function(){clearTimeout(p.data(this,"news2")),p.data(this,"news2",setTimeout(function(){p("#news .content-row .colume2").each(function(){p(this).siblings(".colume1").height(p(this).height())}),p("#news .content-row").show()},800))})),0<p("#product-take #product-take-wrapper .content-left > div").length&&(p.data(this,"product-take",setTimeout(function(){p("#product-take #product-take-wrapper .content-right").each(function(){p(this).height(3*p(this).width()/2)}),w("content-left","content-left",12)},200)),p(window).resize(function(){clearTimeout(p.data(this,"product-take2")),p.data(this,"product-take2",setTimeout(function(){p("#product-take #product-take-wrapper .content-right").each(function(){p(this).height(3*p(this).width()/2)}),w("content-left","content-left",12)},800))}),a=[],h=[],p("#product-take #product-take-wrapper .content-left .index-wrapper .clear-select").click(function(){p("#product-take #product-take-wrapper .content-left .index-wrapper a.wrapper").each(function(){p(this).removeClass("active inactive")})}),p("#product-take #product-take-wrapper .content-left .index-wrapper a.wrapper").click(function(){var t,e,i;p(this).hasClass("inactive")||(p(this).hasClass("active")?(t=p(this),p(this).removeClass("active")):(t=p(this),p(t).addClass("active")),e=p("#langname").attr("rel"),i=[],p("#product-take #product-take-wrapper .content-left .index-wrapper a.active").each(function(){i.unshift(p(this).attr("rel"))}),console.log("Seletced: "+i),0<i.length?p.post("/product_take",{symptoms:i,langname:e,match:"match"},function(t){p("#product-take #product-take-wrapper .content-left .index-wrapper a.wrapper").each(function(){-1!=p.inArray(parseInt(p(this).attr("rel")),t.first_matched_product_symptoms)?p(this).removeClass("inactive"):p(this).addClass("inactive")}),a=t.products_details,h=t.series}):(p("#product-take #product-take-wrapper .content-left .index-wrapper a.inactive").each(function(){p(this).removeClass("inactive")}),a=[],h=[]))}),p("#product-take #product-take-wrapper .content-left .index-wrapper a.result").click(function(){if(0==a.length)p(window).width()<768&&p(".content-right").hide(),p(".level-wrapper").hide(),p(".matched-product-wrapper").html(""),p(".arrow").hide();else{for(i=0;i<h.length;i++);p(".matched-product-wrapper").html(""),p(a).each(function(t,e){var i,a=e.condition,r=p("#langname").attr("rel"),n=p("#globalpath").attr("rel"),o=n+"/app/storage/uploads/thumbs/"+e.product_img1,s=e.series_id,c=e.markets_id,s="Normal Series"==h[s-1].main_series?"product":"children-product",c=1==c?"hongkong":2==c?"china":"oversea";"eng"==r?i='<div class="matched-product"><a href="'+n+r+"/"+s+"/"+c+"/"+e.series_id+"/0/"+e.id+'"><img src='+o+"><h4>"+e.name_eng+"</h4>":"cht"==r?i='<div class="matched-product"><a href="'+n+r+"/"+s+"/"+c+"/"+e.series_id+"/0/"+e.id+'"><img src='+o+"><h4>"+e.name_cht+"</h4>":"chs"==r&&(i='<div class="matched-product"><a href="'+n+r+"/"+s+"/"+c+"/"+e.series_id+"/0/"+e.id+'"><img src='+o+"><h4>"+e.name_chs+"</h4>"),"onset"==a?"eng"==r?i+='<p class="level1 grey">Onset</p>':"cht"==r?i+='<p class="level1 grey">鍒濈櫦</p>':"chs"==r&&(i+='<p class="level1 grey">鍒濆彂</p>'):"slight"==a?"eng"==r?i+='<p class="level2 grey">Slight</p>':"cht"==r?i+='<p class="level2 grey">杓曞井</p>':"chs"==r&&(i+='<p class="level2 grey">杞诲井</p>'):"critical"==a&&("eng"==r?i+='<p class="level3 grey">Crictical</p>':"cht"==r?i+='<p class="level3 grey">鍤撮噸</p>':"chs"==r&&(i+='<p class="level3 grey">涓ラ噸</p>')),i+="</a></div>",p(".level-wrapper").show(),p(".matched-product-wrapper").append(i)}),p(".matched-product-wrapper").height()>p(".matched-outer").height()&&p(".arrow-down").show(),p(window).width()<768&&p(".content-right").show()}}),p("#product-take #product-take-wrapper .content-right .index-wrapper .matched-outer").scroll(function(){0==p(this).scrollTop()?p("#product-take #product-take-wrapper .content-right .arrow-up").hide():p(this).scrollTop()+p(this).innerHeight()>=p(this)[0].scrollHeight?p("#product-take #product-take-wrapper .content-right .arrow-down").hide():p("#product-take #product-take-wrapper .content-right .arrow").show()}),p("#product-take #product-take-wrapper .content-right .arrow").on("click",function(){var t=p("#product-take #product-take-wrapper .content-right .index-wrapper .matched-outer"),e=p(this);p(t).is(":animated")||(scrolled=p(t).scrollTop(),p(e).hasClass("arrow-up")&&(scrolled-=200),p(e).hasClass("arrow-down")&&(scrolled+=200),p(t).animate({scrollTop:scrolled}))})),0<p("#health-tips .function-wrapper .function-btn").length&&(p.data(this,"function",setTimeout(function(){health_tips()},200)),p(window).resize(function(){clearTimeout(p.data(this,"health-btn")),p.data(this,"health-btn",setTimeout(function(){health_tips()},800))}),p("#health-tips .function-wrapper .function-btn").click(function(){var t;void 0!==p(this).attr("rel")&&(t=p(this).attr("rel"),p("#health-tips .function-wrapper .function-btn").each(function(){p(this).removeClass("active")}),p('#health-tips .function-wrapper .function-btn[rel="'+t+'"]').addClass("active"),p("#health-tips .function-wrapper .function-middle-wrapper img").each(function(){p(this).removeClass("active")}),p('#health-tips .function-wrapper .function-middle-wrapper img[rel="'+t+'"]').addClass("active"),0<p("#health-tips .function-wrapper .function-middle-wrapper p").length&&(p("#health-tips .function-wrapper .function-middle-wrapper p").each(function(){p(this).removeClass("active")}),p('#health-tips .function-wrapper .function-middle-wrapper p[rel="'+t+'"]').addClass("active")),0<p("#health-tips .function-detail-wrapper .detail-right-wrapper").length&&(p("#health-tips .function-detail-wrapper .detail-right-wrapper").each(function(){p(this).removeClass("active")}),p('#health-tips .function-detail-wrapper .detail-right-wrapper[rel="'+t+'"]').addClass("active")))}),p("#health-tips .function-tab-wrapper .function-tab-btn").click(function(){var t,e,i;void 0!==p(this).attr("rel")&&(t=p(this).attr("rel"),p("#health-tips .function-tab-wrapper .function-tab-btn").each(function(){p(this).removeClass("active")}),p('#health-tips .function-tab-wrapper .function-tab-btn[rel="'+t+'"]').addClass("active"),e=768<=p(window).width()?"left":"right",p("#health-tips .function-"+e+"-wrapper").each(function(){p(this).removeClass("active")}),p("#health-tips .function-"+e+'-wrapper[rel="'+t+'"]').addClass("active"),health_tips(),p(".function-"+e+"-wrapper:visible .function-btn").each(function(){p(this).removeClass("active")}),p(".function-"+e+"-wrapper:visible .function-btn:first-child").addClass("active"),i=p(".function-"+e+"-wrapper:visible .function-btn:first-child").attr("rel"),p("#health-tips .function-wrapper .function-middle-wrapper img").each(function(){p(this).removeClass("active")}),p('#health-tips .function-wrapper .function-middle-wrapper img[rel="'+i+'"]').addClass("active"),p("#health-tips .function-wrapper .function-middle-wrapper p").each(function(){p(this).removeClass("active")}),p('#health-tips .function-wrapper .function-middle-wrapper p[rel="'+i+'"]').addClass("active"),p("#health-tips .function-detail-wrapper .detail-right-wrapper").each(function(){p(this).removeClass("active")}),p('#health-tips .function-detail-wrapper .detail-right-wrapper[rel="'+i+'"]').addClass("active"))}))}};