"use strict";Drupal.behaviors.yourmodulename={attach:function(t,i){var r=jQuery.noConflict(),e=i.path.pathPrefix,n=e.replace("/",""),a=i.path.currentPath;a=a.replace("node/","");var o,s,d,h,l,p,c,m,w="title_"+n,u=[],g="/"+e+"timeline-json/"+a;function f(t,e,i){0<r("#"+t).length&&(r("#"+t).width(e),r("#"+t).height(i))}function v(t,e){0<r("."+t).length&&r("."+t).each(function(){r(this).height(e)})}function b(t,e,i){var n;n=768<=r(window).width()?r("."+t).width():r("."+e).width(),v("row-xs-4",Math.round(n/12*4)),v("row-xs-9",Math.round(n/12*9)),v("row-xs-12",Math.round(n)),768<=r(window).width()&&(v("row-sm-"+i+"-9",n),v("row-sm-"+i+"-8",Math.round(n/i*8)),v("row-sm-"+i+"-7",Math.round(n/i*7)),v("row-sm-"+i+"-6",Math.round(n/i*6)),v("row-sm-"+i+"-5",Math.round(n/i*5)),v("row-sm-"+i+"-4",Math.round(n/i*4)),v("row-sm-"+i+"-3",Math.round(n/i*3)),v("row-sm-"+i+"-2",Math.round(n/i*2)),v("row-sm-"+i+"-1",Math.round(n/i))),992<=r(window).width()&&(v("row-md-"+i+"-9",n),v("row-md-"+i+"-8",Math.round(n/i*8)),v("row-md-"+i+"-7",Math.round(n/i*7)),v("row-md-"+i+"-6",Math.round(n/i*6)),v("row-md-"+i+"-5",Math.round(n/i*5)),v("row-md-"+i+"-4",Math.round(n/i*4)),v("row-md-"+i+"-3",Math.round(n/i*3)),v("row-md-"+i+"-2",Math.round(n/i*2)),v("row-md-"+i+"-1",Math.round(n/i))),1200<=r(window).width()&&(v("row-lg-"+i+"-9",n),v("row-lg-"+i+"-8",Math.round(n/i*8)),v("row-lg-"+i+"-7",Math.round(n/i*7)),v("row-lg-"+i+"-6",Math.round(n/i*6)),v("row-lg-"+i+"-5",Math.round(n/i*5)),v("row-lg-"+i+"-4",Math.round(n/i*4)),v("row-lg-"+i+"-3",Math.round(n/i*3)),v("row-lg-"+i+"-2",Math.round(n/i*2)),v("row-lg-"+i+"-1",Math.round(n/i)))}r.getJSON(g,function(t){for(var e in t){var i,n=t[e].img,a=[];n=n.split(",");for(var o=0;o<21;o++)n[o]&&a.push(n[o]);i=t[e][w],u[e]={type:"blog_post",date:t[e].date.substring(0,4),title:t[e].date.substring(0,4),content:i,images:a}}timeline=new Timeline(r("#company-timeline"),u),timeline.setOptions({dateFormat:"YYYY",animation:!0,lightbox:!0,columnMode:"dual",order:"desc",separator:"year",first_separator:!0,responsive_width:768}),timeline.display()}),r(".homepage-slider .field-content ul").slick({dots:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplay:!0,autoplaySpeed:5e3,fade:!1,cssEase:"ease",arrows:!1,rows:1,responsive:[{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),r(".homepage-mobile-slider .field-content ul").slick({dots:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplay:!0,autoplaySpeed:5e3,fade:!1,cssEase:"ease",arrows:!1,rows:1,responsive:[{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),0<r(".homepage .body .main-wrapper").length&&(b("desktop-main","mobile-main",9),r(window).resize(function(){clearTimeout(r.data(this,"resizeTimer")),r.data(this,"resizeTimer",setTimeout(function(){b("desktop-main","mobile-main",9)},800))})),0<r("#banner-wrapper-mobile").length&&r("#banner-wrapper-mobile").carousel({interval:!1}),f("wrapper",r(window).width(),r(window).height()),r("body").show(),r(window).resize(function(){clearTimeout(r.data(this,"resizeTimer2")),r.data(this,"resizeTimer2",setTimeout(function(){f("wrapper",r(window).width(),r(window).height())},200)),768<=r(window).width()&&(r("#wrapper").hasClass("toggled")&&r("#wrapper").removeClass("toggled"),r(".hamburger").hasClass("is-open")&&(r(".hamburger").removeClass("is-open"),r(".hamburger").addClass("is-closed")))}),r(".year-wrapper-div").parent("h3").addClass("year-wrapper"),0<r(".path-news .content-row").length&&(r(".fancybox_popup").fancybox().trigger("click"),r(".path-news .content-row").show(),r.data(this,"news",setTimeout(function(){r(".path-news .content-row .colume2").each(function(){r(this).siblings(".colume1").height(r(this).height())}),r(".path-news .views-row .content-row").show()},200)),r(window).resize(function(){clearTimeout(r.data(this,"news2")),r.data(this,"news2",setTimeout(function(){r(".path-news .content-row .colume2").each(function(){r(this).siblings(".colume1").height(r(this).height())}),r(".path-news .views-row .content-row").show()},800))})),r(".path-news .content-row .colume2 .title-wrapper a").click(function(){r(this).parent().parent().parent().hasClass("active")?r(this).parent().siblings(".content-wrapper").slideUp(400,function(){r(this).parent().siblings(".colume1").height(r(this).parent().height()),r(this).parent().parent().removeClass("active")}):r(this).parent().siblings(".content-wrapper").slideDown(400,function(){r(this).parent().siblings(".colume1").height(r(this).parent().height()),r(this).parent().parent().addClass("active")})}),r(".path-news .pagination-btn .pagination-change").change(function(){}),0<r(".path-advertisements").length&&(o=r("#vid-content .vid-title").html(),s=r("#vid-content .vid-date").html(),d=r("#vid-content .vid-body").html(),h=r("#vid-content .vid-url").html(),r(".path-advertisements .video").html('<iframe width="400" height="300" src="'+h+'" frameborder="0" allowfullscreen></iframe>'),r(".advertisements-top .content1 h3").html(o),r(".advertisements-top .content1 p").html(s),r(".advertisements-top .content2").html(d),r(".path-advertisements .view-video").click(function(){var t=r(this).parent().find("#vid-content .vid-title").html(),e=r(this).parent().find("#vid-content .vid-date").html(),i=r(this).parent().find("#vid-content .vid-body").html(),n=r(this).parent().find("#vid-content .vid-url").html();r(".path-advertisements .video").html('<iframe width="400" height="300" src="'+n+'" frameborder="0" allowfullscreen></iframe>'),r(".advertisements-top .content1 h3").html(t),r(".advertisements-top .content1 p").html(e),r(".advertisements-top .content2").html(i),scrolled=r(".advertisements-top").scrollTop(),r("html, body").animate({scrollTop:r(".advertisements-top").offset().top-5})}),r(".path-advertisements .pagination-change").on("focus",function(){}).change(function(){var t=r(this).val(),e=i.path.pathPrefix;window.location.assign("/"+e+"advertisements/"+t)}),r(".path-advertisements .pagination-btn.withmovebutt").click(function(){var t=i.path.pathPrefix,e=r(this).attr("rel");window.location.assign("/"+t+"advertisements/"+e)})),0<r("#fund-timeline").length&&(l=function(t){var i=t||r("#year-drop-down").val(),n=[];_.forEach(u,function(t){var e=_.split(t.date,"-")[0];_.toString(e)===_.toString(i)&&n.push(t)});var e=i;_.toString(e)===_.toString(p)?r("#first-year").addClass("active"):r("#first-year").removeClass("active"),_.toString(e)===_.toString(c)?r("#second-year").addClass("active"):r("#second-year").removeClass("active"),r("#year-drop-down").val(i),r("#fund-timeline").empty(),timeline=new Timeline(r("#fund-timeline"),n),timeline.setOptions({dateFormat:"YYYY-MM",animation:!0,lightbox:!0,columnMode:"dual",order:"desc",separator:"null",first_separator:!0,responsive_width:768}),timeline.display(),0<r(".fancybox").length&&r(".fancybox").fancybox()},u=[],c=p="",r("#first-year").click(function(){l("2016")}),r("#second-year").click(function(){l("2015")}),r("#year-drop-down").change(function(){l(r(this).val())}),p=2016,c=2015,n=(e=i.path.pathPrefix).replace("/",""),a=(a=i.path.currentPath).replace("node/",""),w="title_"+n,m="zoom_in_detail_"+n,g="/"+e+"timeline-json/"+a,r.getJSON(g,function(t){var e="";for(var i in t){for(var n=[],a="",o=(o=t[i].img).split(","),s=0;s<21;s++)o[s]&&(e+="<div style='margin: 2% 2% 8% 2%;'><img style='border-radius: 5px; max-height:100%; max-width:100%;' src=https://www.fortunepharm.com/app/storage/uploads/thumbs/"+t[i]["img"+s]+"/></div>",n.push(o[s]));a=_.size(t[i][m])&&!_.size(n)?"<a href='#charity-light-box"+i+"' class='fancybox'><span id='charity-fund-title'>"+t[i][w]+"</span></a><div class='charity_popup_dialog' id='charity-light-box"+i+"' style='display: none'><span class='charity_popup_date'>"+t[i].date.substring(0,7)+"</span><br><br><span id='charity-fund-detail'>"+t[i][m]+"</span></div>":_.size(t[i][m])&&_.size(n)?"<a href='#charity-light-box"+i+"' class='fancybox'><span id='charity-fund-title'>"+t[i][w]+"</span></a><div class='charity_popup_dialog' id='charity-light-box"+i+"' style='display: none'><span class='charity_popup_date'>"+t[i].date.substring(0,7)+"</span><div style='margin-top:2%' class='row'>  "+e+"</div><span id='charity-fund-detail'>"+t[i][m]+"</span></div>":t[i][w],u[i]={type:"blog_post",date:t[i].date.substring(0,7),title:t[i].date.substring(0,7),content:a,images:n}}l(p),0<r(".fancybox").length&&r(".fancybox").fancybox()})),0<r(".fancybox").length&&r(".fancybox").fancybox()}};