"use strict";Drupal.behaviors.yourmodulename={attach:function(t,e){var r,l,h=jQuery.noConflict(),a=e.path.pathPrefix.replace("/",""),n=(n=e.path.currentPath).replace("node/",""),o="title_"+a,s=[],c="/timeline-json/"+n;function p(t,e,a){0<h("#"+t).length&&(h("#"+t).width(e),h("#"+t).height(a))}function d(t,e){0<h("."+t).length&&h("."+t).each(function(){h(this).height(e)})}function w(t,e,a){var i;i=768<=h(window).width()?h("."+t).width():h("."+e).width(),d("row-xs-4",Math.round(i/12*4)),d("row-xs-9",Math.round(i/12*9)),d("row-xs-12",Math.round(i)),768<=h(window).width()&&(d("row-sm-"+a+"-9",i),d("row-sm-"+a+"-8",Math.round(i/a*8)),d("row-sm-"+a+"-7",Math.round(i/a*7)),d("row-sm-"+a+"-6",Math.round(i/a*6)),d("row-sm-"+a+"-5",Math.round(i/a*5)),d("row-sm-"+a+"-4",Math.round(i/a*4)),d("row-sm-"+a+"-3",Math.round(i/a*3)),d("row-sm-"+a+"-2",Math.round(i/a*2)),d("row-sm-"+a+"-1",Math.round(i/a))),992<=h(window).width()&&(d("row-md-"+a+"-9",i),d("row-md-"+a+"-8",Math.round(i/a*8)),d("row-md-"+a+"-7",Math.round(i/a*7)),d("row-md-"+a+"-6",Math.round(i/a*6)),d("row-md-"+a+"-5",Math.round(i/a*5)),d("row-md-"+a+"-4",Math.round(i/a*4)),d("row-md-"+a+"-3",Math.round(i/a*3)),d("row-md-"+a+"-2",Math.round(i/a*2)),d("row-md-"+a+"-1",Math.round(i/a))),1200<=h(window).width()&&(d("row-lg-"+a+"-9",i),d("row-lg-"+a+"-8",Math.round(i/a*8)),d("row-lg-"+a+"-7",Math.round(i/a*7)),d("row-lg-"+a+"-6",Math.round(i/a*6)),d("row-lg-"+a+"-5",Math.round(i/a*5)),d("row-lg-"+a+"-4",Math.round(i/a*4)),d("row-lg-"+a+"-3",Math.round(i/a*3)),d("row-lg-"+a+"-2",Math.round(i/a*2)),d("row-lg-"+a+"-1",Math.round(i/a)))}function u(){var t;h(window).width()<768?(d("product-big-image",t=h(".product-big-image").width()),d("product-small-image",t)):(h(".product-big-image").attr("style",""),h(".product-small-image").attr("style",""))}function m(){h(window).width()<768?d("image-wrapper",h(".healthcare .healthcare-wrapper .image-wrapper").width()):h(".healthcare .healthcare-wrapper .image-wrapper").attr("style","")}function u(){var t;h(window).width()<768?(d("product-big-image",t=h(".product-big-image").width()),d("product-small-image",t)):(h(".product-big-image").attr("style",""),h(".product-small-image").attr("style",""))}function m(){h(window).width()<768?d("image-wrapper",h(".healthcare .healthcare-wrapper .image-wrapper").width()):h(".healthcare .healthcare-wrapper .image-wrapper").attr("style","")}h.getJSON(c,function(t){for(var e in t){var a,i=t[e].img,r=[];i=i.split(",");for(var n=0;n<21;n++)i[n]&&r.push(i[n]);a=t[e][o],s[e]={type:"blog_post",date:t[e].date.substring(0,4),title:t[e].date.substring(0,4),content:a,images:r}}timeline=new Timeline(h("#company-timeline"),s),timeline.setOptions({dateFormat:"YYYY",animation:!0,lightbox:!0,columnMode:"dual",order:"desc",separator:"year",first_separator:!0,responsive_width:768}),timeline.display()}),h(".homepage-slider .field-content ul").slick({dots:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplay:!0,autoplaySpeed:5e3,fade:!1,cssEase:"ease",arrows:!1,rows:1,responsive:[{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),h(".homepage-mobile-slider .field-content ul").slick({dots:!0,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplay:!0,autoplaySpeed:5e3,fade:!1,cssEase:"ease",arrows:!1,rows:1,responsive:[{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}}]}),0<h(".homepage .body .main-wrapper").length&&(w("desktop-main","mobile-main",9),h(window).resize(function(){clearTimeout(h.data(this,"resizeTimer")),h.data(this,"resizeTimer",setTimeout(function(){w("desktop-main","mobile-main",9)},800))})),0<h("#banner-wrapper-mobile").length&&h("#banner-wrapper-mobile").carousel({interval:!1}),0<h(".fancybox").length&&h(".fancybox").fancybox(),h(".year-wrapper-div").parent("h3").addClass("year-wrapper"),0<h(".path-news .content-row").length&&(h(".path-news .content-row").show(),h.data(this,"news",setTimeout(function(){h(".path-news .content-row .colume2").each(function(){h(this).siblings(".colume1").height(h(this).height())}),h(".path-news .views-row .content-row").show()},200)),h(window).resize(function(){clearTimeout(h.data(this,"news2")),h.data(this,"news2",setTimeout(function(){h(".path-news .content-row .colume2").each(function(){h(this).siblings(".colume1").height(h(this).height())}),h(".path-news .views-row .content-row").show()},800))})),h(".path-news .content-row .colume2 .title-wrapper a").click(function(){h(this).parent().parent().parent().hasClass("active")?h(this).parent().siblings(".content-wrapper").slideUp(400,function(){h(this).parent().siblings(".colume1").height(h(this).parent().height()),h(this).parent().parent().removeClass("active")}):h(this).parent().siblings(".content-wrapper").slideDown(400,function(){h(this).parent().siblings(".colume1").height(h(this).parent().height()),h(this).parent().parent().addClass("active")})}),h(".path-news .pagination-btn.withmovebutt").click(function(){var t=h(this).attr("rel"),e=h("#globalpath").attr("rel"),a=h("#lang").attr("rel");window.location.assign(e+a+"/news/"+t)}),h(".path-news .rightmove").click(function(){var t=h("#current_page").attr("rel");t++;var e=h("#globalpath").attr("rel"),a=h("#lang").attr("rel");window.location.assign(e+a+"/news/"+t)}),h(".path-news .leftmove").click(function(){var t=h("#current_page").attr("rel");t--;var e=h("#globalpath").attr("rel"),a=h("#lang").attr("rel");window.location.assign(e+a+"/news/"+t)}),h(".path-news .pagination-change").on("focus",function(){}).change(function(){var t=h(this).val()-1,e=h("#globalpath").attr("rel"),a=h("#lang").attr("rel");window.location.assign(e+a+"/news/"+t)}),h("#advertisements .pagination-change").on("focus",function(){}).change(function(){var t=h(this).val(),e=h("#globalpath").attr("rel"),a=h("#lang").attr("rel");window.location.assign(e+a+"/advertisements/"+t)}),h("#advertisements .pagination-btn.withmovebutt").click(function(){var t=h(this).attr("rel"),e=h("#globalpath").attr("rel"),a=h("#lang").attr("rel");window.location.assign(e+a+"/advertisements/"+t)}),h("#advertisements .rightmove").click(function(){var t=h("#current_page").attr("rel");t++;var e=h("#globalpath").attr("rel"),a=h("#lang").attr("rel");window.location.assign(e+a+"/advertisements/"+t)}),h("#advertisements .leftmove").click(function(){var t=h("#current_page").attr("rel");t--;var e=h("#globalpath").attr("rel"),a=h("#lang").attr("rel");window.location.assign(e+a+"/advertisements/"+t)}),h("#advertisements .view-video").click(function(){var t=h("#lang").attr("rel"),e=h(this).attr("rel");h.ajax({type:"POST",url:"/video_swap",data:{langname:t,vid:e},dataType:"json",async:!1,success:function(t){"eng"==t.lang_name||"cht"==t.lang_name?h(".advertisements-top .video").html('<iframe width="400" height="300" src="https://www.youtube.com/embed/'+t.link+'" frameborder="0" allowfullscreen></iframe>'):h(".advertisements-top .video").html('<iframe width="400" height="300" src="http://player.youku.com/embed/'+t.link+'" frameborder="0" allowfullscreen></iframe>'),h(".advertisements-top .content1 h3").html(t.title),h(".advertisements-top .content1 p").html(t.date),h(".advertisements-top .content2 p").html(t.desc),scrolled=h(".advertisements-top").scrollTop(),h("html, body").animate({scrollTop:h(".advertisements-top").offset().top-5})}})}),console.log("test"),0<h(".scroll-wrapper").length&&(clearTimeout(h.data(this,"scroll-wrapper")),h.data(this,"scroll-wrapper",setTimeout(function(){h(".scroll-wrapper").each(function(){var e;10<h(this).children().width()-h(this).width()&&(nice=h(this).niceScroll(),e=nice.getContentSize,nice.getContentSize=function(){var t=e.call(nice);return t.h=nice.win.height(),t})})},800)),h(window).resize(function(){clearTimeout(h.data(this,"scroll-wrapper2")),h.data(this,"scroll-wrapper2",setTimeout(function(){h(".scroll-wrapper").each(function(){var e;h(this).getNiceScroll().remove(),10<h(this).children().width()-h(this).width()&&(nice=h(this).niceScroll(),e=nice.getContentSize,nice.getContentSize=function(){var t=e.call(nice);return t.h=nice.win.height(),t})})},800))})),-1<window.location.href.indexOf("news")&&(h(".fancybox_popup").fancybox().trigger("click"),h(".fancybox-overlay").css("display","block")),h(document).click(function(t){"fancybox-item fancybox-close"==h(t.target).attr("class")?h(".fancybox-overlay").css("display","none"):-1!=h(t.target).attr("src").indexOf("thumbs")&&(h(".fancybox-overlay").css("display","block"),h(".fancybox-overlay").css("height",h(document).height()))}),0<h(".scroll-wrapper").length&&(clearTimeout(h.data(this,"scroll-wrapper")),h.data(this,"scroll-wrapper",setTimeout(function(){h(".scroll-wrapper").each(function(){var e;10<h(this).children().width()-h(this).width()&&(nice=h(this).niceScroll(),e=nice.getContentSize,nice.getContentSize=function(){var t=e.call(nice);return t.h=nice.win.height(),t})})},800)),h(window).resize(function(){clearTimeout(h.data(this,"scroll-wrapper2")),h.data(this,"scroll-wrapper2",setTimeout(function(){h(".scroll-wrapper").each(function(){var e;h(this).getNiceScroll().remove(),10<h(this).children().width()-h(this).width()&&(nice=h(this).niceScroll(),e=nice.getContentSize,nice.getContentSize=function(){var t=e.call(nice);return t.h=nice.win.height(),t})})},800))})),p("wrapper",h(window).width(),h(window).height()),h("body").show(),h(window).resize(function(){clearTimeout(h.data(this,"resizeTimer2")),h.data(this,"resizeTimer2",setTimeout(function(){p("wrapper",h(window).width(),h(window).height())},200)),768<=h(window).width()&&(h("#wrapper").hasClass("toggled")&&h("#wrapper").removeClass("toggled"),h(".hamburger").hasClass("is-open")&&(h(".hamburger").removeClass("is-open"),h(".hamburger").addClass("is-closed")))}),0<h("#index .main-wrapper").length&&(w("desktop-main","mobile-main",9),h(window).resize(function(){clearTimeout(h.data(this,"resizeTimer")),h.data(this,"resizeTimer",setTimeout(function(){w("desktop-main","mobile-main",9)},800))})),0<h("#banner-wrapper-mobile").length&&h("#banner-wrapper-mobile").carousel({interval:!1}),0<h("#product .product-big-image").length&&(h.data(this,"product-image",setTimeout(function(){u()},200)),h(window).resize(function(){clearTimeout(h.data(this,"product-image2")),h.data(this,"product-image2",setTimeout(function(){u()},800))})),0<h("#product.healthcare .image-wrapper").length&&(h.data(this,"product-healthcare",setTimeout(function(){m()},200)),h(window).resize(function(){clearTimeout(h.data(this,"product-healthcare2")),h.data(this,"product-healthcare2",setTimeout(function(){m()},800))})),0<h("#lastest-offers #offers-wrapper").length&&(h.data(this,"lastest-offers",setTimeout(function(){h("#lastest-offers #offers-wrapper .img-wrapper").each(function(){h(this).siblings(".content-wrapper").height(h(this).height())}),h("#lastest-offers #offers-wrapper .content-wrapper").show()},200)),h(window).resize(function(){clearTimeout(h.data(this,"lastest-offers2")),h.data(this,"lastest-offers2",setTimeout(function(){h("#lastest-offers #offers-wrapper .img-wrapper").each(function(){h(this).siblings(".content-wrapper").height(h(this).height())}),h("#lastest-offers #offers-wrapper .content-wrapper").show()},800))})),0<h("#news .content-row").length&&(h.data(this,"news",setTimeout(function(){h("#news .content-row .colume2").each(function(){h(this).siblings(".colume1").height(h(this).height())}),h("#news .content-row").show()},200)),h(window).resize(function(){clearTimeout(h.data(this,"news2")),h.data(this,"news2",setTimeout(function(){h("#news .content-row .colume2").each(function(){h(this).siblings(".colume1").height(h(this).height())}),h("#news .content-row").show()},800))})),0<h("#product-take #product-take-wrapper .content-left > div").length&&(h.data(this,"product-take",setTimeout(function(){h("#product-take #product-take-wrapper .content-right").each(function(){h(this).height(3*h(this).width()/2)}),w("content-left","content-left",12)},200)),h(window).resize(function(){clearTimeout(h.data(this,"product-take2")),h.data(this,"product-take2",setTimeout(function(){h("#product-take #product-take-wrapper .content-right").each(function(){h(this).height(3*h(this).width()/2)}),w("content-left","content-left",12)},800))}),r=[],l=[],h("#product-take #product-take-wrapper .content-left .index-wrapper .clear-select").click(function(){h("#product-take #product-take-wrapper .content-left .index-wrapper a.wrapper").each(function(){h(this).removeClass("active inactive")})}),h("#product-take #product-take-wrapper .content-left .index-wrapper a.wrapper").click(function(){var t,e,a;h(this).hasClass("inactive")||(h(this).hasClass("active")?(t=h(this),h(this).removeClass("active")):(t=h(this),h(t).addClass("active")),e=h("#langname").attr("rel"),a=[],h("#product-take #product-take-wrapper .content-left .index-wrapper a.active").each(function(){a.unshift(h(this).attr("rel"))}),console.log("Seletced: "+a),0<a.length?h.post("/product_take",{symptoms:a,langname:e,match:"match"},function(t){h("#product-take #product-take-wrapper .content-left .index-wrapper a.wrapper").each(function(){-1!=h.inArray(parseInt(h(this).attr("rel")),t.first_matched_product_symptoms)?h(this).removeClass("inactive"):h(this).addClass("inactive")}),r=t.products_details,l=t.series}):(h("#product-take #product-take-wrapper .content-left .index-wrapper a.inactive").each(function(){h(this).removeClass("inactive")}),r=[],l=[]))}),h("#product-take #product-take-wrapper .content-left .index-wrapper a.result").click(function(){if(0==r.length)h(window).width()<768&&h(".content-right").hide(),h(".level-wrapper").hide(),h(".matched-product-wrapper").html(""),h(".arrow").hide();else{for(i=0;i<l.length;i++);h(".matched-product-wrapper").html(""),h(r).each(function(t,e){var a,i=e.condition,r=h("#langname").attr("rel"),n=h("#globalpath").attr("rel"),o=n+"/app/storage/uploads/thumbs/"+e.product_img1,s=e.series_id,c=e.markets_id,s="Normal Series"==l[s-1].main_series?"product":"children-product",c=1==c?"hongkong":2==c?"china":"oversea";"eng"==r?a='<div class="matched-product"><a href="'+n+r+"/"+s+"/"+c+"/"+e.series_id+"/0/"+e.id+'"><img src='+o+"><h4>"+e.name_eng+"</h4>":"cht"==r?a='<div class="matched-product"><a href="'+n+r+"/"+s+"/"+c+"/"+e.series_id+"/0/"+e.id+'"><img src='+o+"><h4>"+e.name_cht+"</h4>":"chs"==r&&(a='<div class="matched-product"><a href="'+n+r+"/"+s+"/"+c+"/"+e.series_id+"/0/"+e.id+'"><img src='+o+"><h4>"+e.name_chs+"</h4>"),"onset"==i?"eng"==r?a+='<p class="level1 grey">Onset</p>':"cht"==r?a+='<p class="level1 grey">鍒濈櫦</p>':"chs"==r&&(a+='<p class="level1 grey">鍒濆彂</p>'):"slight"==i?"eng"==r?a+='<p class="level2 grey">Slight</p>':"cht"==r?a+='<p class="level2 grey">杓曞井</p>':"chs"==r&&(a+='<p class="level2 grey">杞诲井</p>'):"critical"==i&&("eng"==r?a+='<p class="level3 grey">Crictical</p>':"cht"==r?a+='<p class="level3 grey">鍤撮噸</p>':"chs"==r&&(a+='<p class="level3 grey">涓ラ噸</p>')),a+="</a></div>",h(".level-wrapper").show(),h(".matched-product-wrapper").append(a)}),h(".matched-product-wrapper").height()>h(".matched-outer").height()&&h(".arrow-down").show(),h(window).width()<768&&h(".content-right").show()}}),h("#product-take #product-take-wrapper .content-right .index-wrapper .matched-outer").scroll(function(){0==h(this).scrollTop()?h("#product-take #product-take-wrapper .content-right .arrow-up").hide():h(this).scrollTop()+h(this).innerHeight()>=h(this)[0].scrollHeight?h("#product-take #product-take-wrapper .content-right .arrow-down").hide():h("#product-take #product-take-wrapper .content-right .arrow").show()}),h("#product-take #product-take-wrapper .content-right .arrow").on("click",function(){var t=h("#product-take #product-take-wrapper .content-right .index-wrapper .matched-outer"),e=h(this);h(t).is(":animated")||(scrolled=h(t).scrollTop(),h(e).hasClass("arrow-up")&&(scrolled-=200),h(e).hasClass("arrow-down")&&(scrolled+=200),h(t).animate({scrollTop:scrolled}))})),0<h("#health-tips .function-wrapper .function-btn").length&&(h.data(this,"function",setTimeout(function(){health_tips()},200)),h(window).resize(function(){clearTimeout(h.data(this,"health-btn")),h.data(this,"health-btn",setTimeout(function(){health_tips()},800))}),h("#health-tips .function-wrapper .function-btn").click(function(){var t;void 0!==h(this).attr("rel")&&(t=h(this).attr("rel"),h("#health-tips .function-wrapper .function-btn").each(function(){h(this).removeClass("active")}),h('#health-tips .function-wrapper .function-btn[rel="'+t+'"]').addClass("active"),h("#health-tips .function-wrapper .function-middle-wrapper img").each(function(){h(this).removeClass("active")}),h('#health-tips .function-wrapper .function-middle-wrapper img[rel="'+t+'"]').addClass("active"),0<h("#health-tips .function-wrapper .function-middle-wrapper p").length&&(h("#health-tips .function-wrapper .function-middle-wrapper p").each(function(){h(this).removeClass("active")}),h('#health-tips .function-wrapper .function-middle-wrapper p[rel="'+t+'"]').addClass("active")),0<h("#health-tips .function-detail-wrapper .detail-right-wrapper").length&&(h("#health-tips .function-detail-wrapper .detail-right-wrapper").each(function(){h(this).removeClass("active")}),h('#health-tips .function-detail-wrapper .detail-right-wrapper[rel="'+t+'"]').addClass("active")))}),h("#health-tips .function-tab-wrapper .function-tab-btn").click(function(){var t,e,a;void 0!==h(this).attr("rel")&&(t=h(this).attr("rel"),h("#health-tips .function-tab-wrapper .function-tab-btn").each(function(){h(this).removeClass("active")}),h('#health-tips .function-tab-wrapper .function-tab-btn[rel="'+t+'"]').addClass("active"),e=768<=h(window).width()?"left":"right",h("#health-tips .function-"+e+"-wrapper").each(function(){h(this).removeClass("active")}),h("#health-tips .function-"+e+'-wrapper[rel="'+t+'"]').addClass("active"),health_tips(),h(".function-"+e+"-wrapper:visible .function-btn").each(function(){h(this).removeClass("active")}),h(".function-"+e+"-wrapper:visible .function-btn:first-child").addClass("active"),a=h(".function-"+e+"-wrapper:visible .function-btn:first-child").attr("rel"),h("#health-tips .function-wrapper .function-middle-wrapper img").each(function(){h(this).removeClass("active")}),h('#health-tips .function-wrapper .function-middle-wrapper img[rel="'+a+'"]').addClass("active"),h("#health-tips .function-wrapper .function-middle-wrapper p").each(function(){h(this).removeClass("active")}),h('#health-tips .function-wrapper .function-middle-wrapper p[rel="'+a+'"]').addClass("active"),h("#health-tips .function-detail-wrapper .detail-right-wrapper").each(function(){h(this).removeClass("active")}),h('#health-tips .function-detail-wrapper .detail-right-wrapper[rel="'+a+'"]').addClass("active"))}))}};